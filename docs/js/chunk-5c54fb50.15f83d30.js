(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c54fb50"],{"268f":function(t,e,a){t.exports=a("fde4")},"32a6":function(t,e,a){var o=a("241e"),n=a("c3a1");a("ce7e")("keys",function(){return function(t){return n(o(t))}})},"454f":function(t,e,a){a("46a7");var o=a("584a").Object;t.exports=function(t,e,a){return o.defineProperty(t,e,a)}},"46a7":function(t,e,a){var o=a("63b6");o(o.S+o.F*!a("8e60"),"Object",{defineProperty:a("d9f6").f})},"85f2":function(t,e,a){t.exports=a("454f")},"8aae":function(t,e,a){a("32a6"),t.exports=a("584a").Object.keys},a4bb:function(t,e,a){t.exports=a("8aae")},b979:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"top"},[a("el-form",{attrs:{inline:!0,model:t.searchForm,size:"small"}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.searchForm.name,callback:function(e){t.$set(t.searchForm,"name",e)},expression:"searchForm.name"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{model:{value:t.searchForm.state,callback:function(e){t.$set(t.searchForm,"state",e)},expression:"searchForm.state"}},[a("el-option",{attrs:{label:"正常",value:1}}),a("el-option",{attrs:{label:"锁定",value:2}})],1)],1),a("el-form-item",{attrs:{label:"分公司"}},[a("el-select",{model:{value:t.searchForm.companyId,callback:function(e){t.$set(t.searchForm,"companyId",e)},expression:"searchForm.companyId"}},t._l(t.companyList,function(t){return a("el-option",{key:t.id,attrs:{label:t.companyName,value:t.id}})}),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.fetch()}}},[t._v("查询")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.searchForm={}}}},[t._v("重置")])],1)],1),a("el-button",{attrs:{type:"primary",size:"small",round:""},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("添加用户")])],1),a("el-dialog",{attrs:{"modal-append-to-body":!1,visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},closed:function(e){t.formData={}}}},[a("el-form",{attrs:{model:t.formData,inline:!0,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"登录账户"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formData.username,callback:function(e){t.$set(t.formData,"username",e)},expression:"formData.username"}})],1),t.formData.id?t._e():a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),a("el-form-item",{attrs:{label:"账号状态"}},[a("el-select",{model:{value:t.formData.state,callback:function(e){t.$set(t.formData,"state",e)},expression:"formData.state"}},[a("el-option",{attrs:{label:"正常",value:1}}),a("el-option",{attrs:{label:"锁定",value:2}})],1)],1),a("el-form-item",{attrs:{label:"角色"}},[a("el-select",{model:{value:t.formData.role_id,callback:function(e){t.$set(t.formData,"role_id",e)},expression:"formData.role_id"}},t._l(t.roleList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}})],1),a("el-form-item",{attrs:{label:"年龄"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formData.age,callback:function(e){t.$set(t.formData,"age",e)},expression:"formData.age"}})],1),a("el-form-item",{attrs:{label:"性别"}},[a("el-select",{model:{value:t.formData.sex,callback:function(e){t.$set(t.formData,"sex",e)},expression:"formData.sex"}},[a("el-option",{attrs:{label:"女",value:0}}),a("el-option",{attrs:{label:"男",value:1}})],1)],1),a("el-form-item",{attrs:{label:"所属公司"}},[a("el-select",{model:{value:t.formData.companyId,callback:function(e){t.$set(t.formData,"companyId",e)},expression:"formData.companyId"}},t._l(t.companyList,function(t){return a("el-option",{key:t.id,attrs:{label:t.companyName,value:t.id}})}),1)],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:t.formData.remark,callback:function(e){t.$set(t.formData,"remark",e)},expression:"formData.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("提 交")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,loading:t.loading}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),a("el-table-column",{attrs:{prop:"phone",label:"电话"}}),a("el-table-column",{attrs:{prop:"username",label:"账号"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注"}}),a("el-table-column",{attrs:{label:"账户状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{value:1===e.row.state,"active-text":"锁定","inactive-text":"正常"},on:{change:function(a){return t.updateState(e.row)}}})]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleDelete(e.row)}}},[t._v("删除")])]}}])})],1),a("el-pagination",{attrs:{"current-page":t.pagination.current,layout:"total, prev, pager, next, jumper",total:t.pagination.total},on:{"current-change":t.fetch}})],1)},n=[],r=a("cebc"),l={name:"user",data:function(){return{tableData:[],pagination:{},loading:!1,searchForm:{},dialogFormVisible:!1,formData:{},companyList:[],roleList:[]}},methods:{handleClick:function(t){this.dialogFormVisible=!0,this.formData=JSON.parse(JSON.stringify(t)),0===this.roleList.length&&this.getAllRole()},submit:function(){var t=this;delete this.formData.createTime,delete this.formData.birthday,this.formData.id&&delete this.formData.password,this.$ajax.post(this.formData.id?"/updateusersert":"/adduser",this.formData).then(function(e){1===e.data.code&&(t.dialogFormVisible=!1,t.$message.success(e.data.msg),t.fetch(t.pagination.current))})},fetch:function(t){var e=this;this.loading=!0,this.$ajax.post("/selectuserserlist",Object(r["a"])({limit:10,page:t||1},this.searchForm)).then(function(a){if(1===a.data.code){var o=Object(r["a"])({},e.pagination);o.total=a.data.count,o.current=t,e.loading=!1,e.tableData=a.data.data,e.pagination=o}})},handleDelete:function(t){var e=this;this.$confirm("是否删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$ajax.post("/delectuser",t).then(function(t){1===t.data.code&&(e.$message.success(t.data.msg),e.fetch(e.pagination.current))})}).catch(function(){e.$message.info("已取消")})},updateState:function(t){var e=this;this.$ajax.post("/updateuserserts",{id:t.id,state:1===t.state?2:1}).then(function(t){1===t.data.code&&(e.$message.success(t.data.msg),e.fetch(e.pagination.current))})},getCompany:function(){var t=this;this.$ajax.post("/t_branch_company/selectt_branch_company",{page:1,limit:100}).then(function(e){1===e.data.code&&(t.companyList=e.data.data)})},getAllRole:function(){var t=this;this.$ajax.post("/listRole",{page:1,limit:100}).then(function(e){1===e.data.code&&(t.roleList=e.data.data)})}},mounted:function(){this.fetch(),this.getCompany()}},i=l,s=a("2877"),c=Object(s["a"])(i,o,n,!1,null,"4088ef94",null);e["default"]=c.exports},bf90:function(t,e,a){var o=a("36c3"),n=a("bf0b").f;a("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return n(o(t),e)}})},ce7e:function(t,e,a){var o=a("63b6"),n=a("584a"),r=a("294c");t.exports=function(t,e){var a=(n.Object||{})[t]||Object[t],l={};l[t]=e(a),o(o.S+o.F*r(function(){a(1)}),"Object",l)}},cebc:function(t,e,a){"use strict";var o=a("268f"),n=a.n(o),r=a("e265"),l=a.n(r),i=a("a4bb"),s=a.n(i),c=a("85f2"),u=a.n(c);function f(t,e,a){return e in t?u()(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},o=s()(a);"function"===typeof l.a&&(o=o.concat(l()(a).filter(function(t){return n()(a,t).enumerable}))),o.forEach(function(e){f(t,e,a[e])})}return t}a.d(e,"a",function(){return m})},e265:function(t,e,a){t.exports=a("ed33")},ed33:function(t,e,a){a("014b"),t.exports=a("584a").Object.getOwnPropertySymbols},fde4:function(t,e,a){a("bf90");var o=a("584a").Object;t.exports=function(t,e){return o.getOwnPropertyDescriptor(t,e)}}}]);